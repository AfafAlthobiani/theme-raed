{# partials/offers.twig #}
{% set visible_offers_count = 1 %}
{% if offers is not empty %}
    <div class="!mt-3">
        {% set collapsed_id = 'offers_' ~ item_id %}

        {# أول 3 عروض #}
        {% for offer in offers|slice(0, visible_offers_count) %}
            {% include 'pages.partials.cart.offer.twig' with {'offer': offer} %}
        {% endfor %}

        {% if offers|length > visible_offers_count %}
            <div class="mt-4">
                <button class="group btn--collapse text-sm !bg-transparent !px-0 !justify-start hover:text-dark"
                        type="button"
                        data-show="{{ collapsed_id }}">
                    <i class="sicon-discount is-opened rtl:ml-1.5 ltr:mr-1.5"></i>
                    <span class="flex items-center"> +{{ offers|length - visible_offers_count }} {{ trans('pages.cart.show_more_offers') }}  <i class="transition-transform duration-300 group-[.is-opened]:-rotate-180 mx-0.5 sicon-keyboard_arrow_down"></i> </span>
                </button>
            </div>

            <div class="h-0 overflow-hidden opacity-0 is-closed" id="{{ collapsed_id }}">
                    {% for offer in offers|slice(visible_offers_count) %}
                        {% include 'pages.partials.cart.offer.twig' with {'offer': offer} %}
                    {% endfor %}
            </div>
        {% endif %}
    </div>
{% endif %}
