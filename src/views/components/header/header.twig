{#
| Variable         | Type    | Description                     |
|------------------|---------|---------------------------------|
| cart             | object  |                                 |
| cart.items_count | int     |                                 |
| cart.total       | string  | Formatted total ex: "١٠٠ ر.س"   |
#}
{# src/views/components/header/header.twig #}

<header class="site-header">
  {# Troubleshooting Tip: Handle arrayable theme settings gracefully #}
  {% set nav_type = theme.settings.get('your_arrayable_key') %}
  {% if nav_type is iterable %}
    {% set nav_type = nav_type|first %}
  {% endif %}

  {# Optional: Include an advertisement component #}
  {% component "header.advertisement" %}

  <div class="container">
    <div class="header-main">
      <div class="header-logo">
        <a href="/">
          <img src="{{ 'assets/images/logo.png' | theme_asset }}" alt="{{ "site.name"|trans }}" />
        </a>
      </div>

      {# Include the main navigation menu component #}
      <nav class="header-nav">
        {% component "header.menu" %}
      </nav>

      <div class="header-actions">
        <div class="search-icon">
          <a href="/search">
            <i class="sicon-search"></i> {# Assuming Salla icons or similar #}
          </a>
        </div>

        {# Cart/Shopping Bag (from previous example, adapted) #}
        <div class="cart-icon">
          <a href="/cart">
            <i class="sicon-shopping-cart"></i> {# Assuming Salla icons or similar #}
            {% if cart.items_count > 0 %}
              <span class="cart-count">{{ cart.items_count }}</span>
            {% endif %}
          </a>
          <div class="cart-dropdown">
            {% if cart.items_count > 0 %}
              <p>{{ "cart.items_count_text"|trans({ 'count': cart.items_count }) }}</p>
              <p>{{ "cart.total_text"|trans }}: {{ cart.total }}</p>
              <a href="/cart" class="btn btn-primary">{{ "cart.view_cart"|trans }}</a>
            {% else %}
              <p>{{ "cart.empty"|trans }}</p>
            {% endif %}
          </div>
        </div>

        <div class="user-account">
          <a href="/account">
            <i class="sicon-user"></i> {# Assuming Salla icons or similar #}
          </a>
        </div>
      </div>
    </div>
  </div>

  {# Optional: Include breadcrumbs component, often placed below the main header #}
  <div class="container">
    {% component "breadcrumbs" %}
  </div>
</header>
